!function(){"use strict";var e={loanAmount:null,loanTenure:null,interestRate:null,emi:null,interestAmount:null,totalAmountPayable:null};function t(e,t,a,n,l,r,o,i,u){var c=document.getElementById("loan-amt-range"),s=document.getElementById("loan-amt-inp"),m=document.getElementById("tenure-range"),d=document.getElementById("tenure-inp"),h=document.getElementById("rate-range"),g=document.getElementById("rate-inp"),v=document.getElementById("principal-amt"),p=document.getElementById("interest-amt"),f=document.getElementById("total-amt"),b=document.getElementById("monthly-emi");if(null!=document.getElementById("emi-chart")&&null!=document.getElementById("emi-chart")||null!=document.getElementById("emi-chart-calculator")&&null!=document.getElementById("emi-chart-calculator"))if(null!=document.getElementById("emi-chart-calculator")||null!=document.getElementById("emi-chart-calculator"))var y=document.getElementById("emi-chart-calculator");else var A=document.getElementById("emi-chart").getContext("2d");else console.warn("No pie chart");var I=!1,N=k(c.value,h.value,m.value);try{Chart.pluginService.register({afterUpdate:function(e){var t=e.getDatasetMeta(0).data[1];t.round={x:(e.chartArea.left+e.chartArea.right)/2,y:(e.chartArea.top+e.chartArea.bottom)/2,radius:(e.outerRadius+e.innerRadius)/2,thickness:(e.outerRadius-e.innerRadius)/2,backgroundColor:t._model.backgroundColor}},afterDraw:function(e){var t=e.chart.ctx,a=e.getDatasetMeta(0).data[1],n=Math.PI/2-a._view.startAngle,l=Math.PI/2-a._view.endAngle;t.save(),t.translate(a.round.x,a.round.y),t.fillStyle=a.round.backgroundColor,t.beginPath(),t.arc(a.round.radius*Math.sin(n),a.round.radius*Math.cos(n),a.round.thickness,0,2*Math.PI),t.arc(a.round.radius*Math.sin(l),a.round.radius*Math.cos(l),a.round.thickness,0,2*Math.PI),t.closePath(),t.fill(),t.restore()}})}catch(e){console.warn("ChartJS Error",e)}var w,_,L={type:"doughnut",animation:{animateScale:!0,animateRotate:!0},data:{labels:[],datasets:[{data:[Number(c.value),Number(N.interest)],backgroundColor:["#99B7D2","#004C8F"],borderWidth:0}]},options:{animation:{duration:1500},aspectRatio:1,responsive:!0,maintainAspectRatio:!1,legend:{display:!1},cutoutPercentage:78}};function k(e,t,a){var n=e,l=12*a,r=(c=t)/100/12,o=Math.pow(1+r,l),i=o/(o-1),u=(Math.round(n*r*i),(r*-n*Math.pow(1+r,l)/(1-Math.pow(1+r,l))).toFixed(4)),c=u*l-n,s=Number(n)+Number(c);if(!u||!c||!s)return{principal:Math.round(n),emi:0,interest:0,total:0};for(var m=Number(n),d="",h=0,g=0,v=0,p=0,f=0,b=0,y=(d="<table><thead><tr><th>Year</th><th>Opening Balance</th><th>EMI*12</th><th>Interest paid yearly</th><th>Principal paid yearly</th><th>Closing Balance</th></thead><tbody>",1);y<=l/12;y++){for(var A="",I=1;I<=12;I++){var N=Number((t*m/1200).toFixed(4)),w=Number((u-N).toFixed(4));m=Number((m-w).toFixed(4)),A=Number((Number(A)+N).toFixed(4))}var _=(12*u).toFixed(4),L=A,k=(_-L).toFixed(4),S=(n-k).toFixed(4);h=isNaN(n)?0:Math.round(n).toLocaleString("en-IN"),g=isNaN(_)?0:Math.round(_).toLocaleString("en-IN"),v=isNaN(L)?0:Math.round(L).toLocaleString("en-IN"),p=isNaN(k)?0:Math.round(k).toLocaleString("en-IN"),(isNaN(S)||"-0"==(f=Math.round(S).toLocaleString("en-IN")))&&(f=0),b=parseInt(v)>0?parseInt(b)+parseInt(v.replace(/,/g,"")):parseInt(b)+0,d+="<tr><td>"+y+"</td><td>"+h+"</td><td>"+g+"</td><td>"+v+"</td><td>"+p+"</td><td>"+f+"</td></tr>",n=S}return d+="</tbody></table>",{principal:Math.round(e),emi:Math.round(u),interest:Math.round(c),total:Math.round(s),detailDesc:d}}function S(e){var t,a,n,l,r=k(c.value,h.value,m.value);b.innerHTML='<span class="text-super">₹</span>'+r.emi.toLocaleString("en-in"),v.innerHTML='<span class="text-super">₹</span>'+r.principal.toLocaleString("en-in"),p.innerHTML='<span class="text-super">₹</span>'+r.interest.toLocaleString("en-in"),f&&(f.innerHTML='<span class="text-super">₹</span>'+r.total.toLocaleString("en-in")),o.loanAmount=c.value,o.loanTenure=m.value,o.interestRate=h.value,o.emi=r.emi,o.interestAmount=r.interest,o.totalAmountPayable=r.total,C||window.currentChart&&e?function(e,t,a,n){try{var l=[a,t];L.data.datasets[0].data=l,e.destroy(),e=new Chart(A,L),window.currentChart=e}catch(e){console.warn("ChartJS Error",e)}}(C||window.currentChart,Number(r.interest),Number(c.value),Number(r.total)):y&&e&&(t=y,a=Number(r.principal),n=Number(r.interest),l={chart:{type:"pie",width:230,backgroundColor:"transparent"},credits:{enabled:!1},title:{text:""},tooltip:{enabled:!1},plotOptions:{pie:{slicedOffset:10,startAngle:-80,dataLabels:{enabled:!1}},series:{animation:!1}},series:[{dataLabels:{enabled:!1},states:{hover:{enabled:!1}},name:"EMI",data:[{name:"Principal Amount",y:a,color:"#99B7D2",sliced:!0},{name:"Interest Amount",y:n,color:"#3370A5"}]}],responsive:{rules:[{condition:{callback:function(){return window.innerWidth<=480}},chartOptions:{chart:{width:230,height:230},plotOptions:{pie:{slicedOffset:7}}}},{condition:{callback:function(){return window.innerWidth>480}},chartOptions:{chart:{width:230,height:230},plotOptions:{pie:{slicedOffset:10}}}}]}},Highcharts.chart(t,l));var i=document.querySelector(".amortization-table .table-rte");i&&(i.innerHTML=r.detailDesc)}function E(e,c,s){$(e).rangeslider({polyfill:!1,onInit:function(){c.value=this.value,c.value=Number(this.value).toLocaleString("en-in"),S(!0)},onSlide:function(){I||(c.value=this.value)},onSlideEnd:function(){c.value=Number(this.value).toLocaleString("en-in"),S(!0),i={loanAmount:o.loanAmount,loanTenure:o.loanTenure,interestRate:o.interestRate,emi:o.emi,interestAmount:o.interestAmount,totalAmountPayable:o.totalAmountPayable},r(i,this,"range",t,a,n,l,"home_loan_emi_calculator")}}),c&&u&&c.addEventListener("input",(function(t){I=!0;var a=e.getAttribute("min"),n=e.getAttribute("max");if(Number(t.target.value.replaceAll(",",""))>=n){c.value=n,$(e).val(c.value).change();var l=Number(t.target.value);c.value=l.toLocaleString("en-in"),S(!0)}if(/[^0-9\,]/.test(t.target.value)||/\,/.test(t.data)){c.value=a,$(e).val(c.value).change();l=Number(t.target.value);c.value=l.toLocaleString("en-in"),S(!0)}t.target.value.replaceAll(",","")<a||($(e).val(this.value.replaceAll(",","")).change(),S(!0))})),c&&u&&c.addEventListener("change",(function(u){I=!1,c.value=u.target.value.replaceAll(",",""),(0===u.target.value.length||/\.$/.test(u.target.value))&&(c.value=e.getAttribute("min")),$(e).val(c.value).change();var s=Number(u.target.value);c.value=s.toLocaleString("en-in"),S(!0),i={loanAmount:o.loanAmount,loanTenure:o.loanTenure,interestRate:o.interestRate,emi:o.emi,interestAmount:o.interestAmount,totalAmountPayable:o.totalAmountPayable},r(i,this,"input",t,a,n,l,"home_loan_emi_calculator")}))}try{if(A){var C=new Chart(A,L);window.currentChart=C}else{C="";window.currentChart=""}}catch(e){console.warn("ChartJS Error",e)}E(c,s),E(m,d),w=h,_=g,$(w).rangeslider({polyfill:!1,onInit:function(){_.value=this.value,_.value=Number(this.value).toLocaleString("en-in"),S(!0)},onSlide:function(){_.value=this.value},onSlideEnd:function(){_.value=Number(this.value).toLocaleString("en-in"),S(!0),i={loanAmount:o.loanAmount,loanTenure:o.loanTenure,interestRate:o.interestRate,emi:o.emi,interestAmount:o.interestAmount,totalAmountPayable:o.totalAmountPayable},r(i,this,"range",t,a,n,l,"home_loan_emi_calculator")}}),_&&u&&_.addEventListener("input",(function(e){var t=w.getAttribute("min");if(_.value=_.value.replaceAll(",",""),/\.\.+|\^|\|/.test(e.target.value)||/^\.|[^0-9|^\.]/.test(e.target.value)||/^\d+\.{1}\d{1,2}\./.test(e.target.value)){_.value=w.getAttribute("min"),$(w).val(this.value).change();var a=Number(e.target.value);return _.value=a.toLocaleString("en-in"),void S(!0)}if(/^\d+\.{1}\d{3}/.test(e.target.value))return e.target.value<t&&(_.value=t,$(w).val(this.value).change()),void(_.value=Math.round(100*(Number(e.target.value)+Number.EPSILON))/100);e.target.value<t||/\.$/.test(e.target.value)||($(w).val(this.value).change(),S(!0))})),_&&u&&_.addEventListener("change",(function(e){_.value=e.target.value.replaceAll(",",""),(0===e.target.value.length||/\.$/.test(e.target.value))&&(_.value=w.getAttribute("min")),$(w).val(_.value).change();var u=Number(e.target.value);_.value=u.toLocaleString("en-in"),S(!0),i={loanAmount:o.loanAmount,loanTenure:o.loanTenure,interestRate:o.interestRate,emi:o.emi,interestAmount:o.interestAmount,totalAmountPayable:o.totalAmountPayable},r(i,this,"input",t,a,n,l,"home_loan_emi_calculator")})),$(".emi-calculator .calc-apply-online").off("click"),$(".emi-calculator .calc-apply-online").on("click",(function(r){S(!1);let i=$(this).text().trim().replace(/ /g,"_").toLowerCase(),u=$(this).attr("href"),c={linkInfo:{linkName:i,linkType:"link",linkPosition:a+":home_loan_emi_calculator",linkhref:u||""},userInfo:{loanAmount:o.loanAmount,loanTenure:o.loanTenure,interestRate:o.interestRate,emi:o.emi,interestAmount:o.interestAmount,totalAmountPayable:o.totalAmountPayable}};if(e("click",t,a,n,l,c),$(this).hasClass("instant-call-modal")){var s=$(this).parents(".emi-calculator").find("[name=calFormName]").val().trim().replace(/ /g,"_").toLowerCase(),m=$(this).parents(".emi-calculator").find("[name=calFormId]").val().trim().replace(/ /g,"_").toLowerCase();c={userInfo:c.userInfo,formInfo:{formName:s,formId:m}},localStorage.setItem("formInfo",JSON.stringify(c.formInfo)),setTimeout((()=>{e("formload",t+":"+s,s,t+":"+s,l,c)}),1e3)}})),$(".result-details-link").on("click",(function(){setTimeout((function(){$("html, body").animate({scrollTop:$("#table-scroll").offset().top-100},200)}))})),$(".emi.result-details-link").on("click",(function(r){let i=$(this).text().trim().replace(/ /g,"_").toLowerCase(),u=$(this).attr("href"),c={linkInfo:{linkName:i,linkType:"link",linkPosition:a+":home_loan_emi_calculator",linkhref:u},userInfo:{loanAmount:o.loanAmount,loanTenure:o.loanTenure,interestRate:o.interestRate,emi:o.emi,interestAmount:o.interestAmount,totalAmountPayable:o.totalAmountPayable}};e("click",t,a,n,l,c)}))}function a(e,t,a,n,l,r){window.adobeDataLayer.push({event:e,eventInfo:{eventName:e},pageInfo:{pageName:t,pageCategory:a,pageSubCategory:n,language:l},...r})}var n=document.getElementById("page-name").value.replace(/ /g,"_").toLowerCase(),l=document.getElementById("page-category").value.replace(/ /g,"_").toLowerCase();if(window.location.href.includes("deposits")&&window.location.href.includes("#"))var r=window.location.href.split("#")[1].trim().replace("-","_").toLowerCase();else var r=document.getElementById("page-subcategory").value.replace(/ /g,"_").toLowerCase();if(null!==document.querySelector(".region-select .cmp-form-options__field"))var o=document.querySelector(".region-select .cmp-form-options__field").value;else var o="english";if(null!==document.querySelector(".label-none .cmp-form-options__field"))o=document.querySelector(".label-none .cmp-form-options__field").value;else o="english";function i(e,t,n,l,r,o,i,u){let c={linkInfo:{linkName:"changed_"+("range"===n?t.$element.closest(".calculator-inp-wrap").find(".calculator-inp-label").text():$(t).closest(".calculator-inp-wrap").find(".calculator-inp-label").text()).trim().replace(/\(|\)/g,"").replace(/ /g,"_").toLowerCase(),linkPosition:r+":"+o,linkType:"slider",linkhref:""},userInfo:e};"afforability_calculator"!=u&&"home_loan_eligibility_calculator"!=u&&"home_loan_emi_calculator"!=u&&"refinance_calculator"!=u||(c.linkInfo.linkPosition=r+":"+u),"range"==t&&"refinance-calculator"==t.$element.closest(".panel-active").attr("id")&&(u=t.$element.closest(".panel-active").attr("id").replaceAll("-","_").toLowerCase(),c.linkInfo.linkPosition=r+":"+u),a("click",l,r,o,i,c)}document.addEventListener("DOMContentLoaded",(function(){t(a,n,l,r,o,i,e,undefined,!0)}))}();